openapi: 3.0.0
x-stoplight:
  id: 59lm0rrtsuds9
tags:
  - name: backoffice
  - name: client
  - name: tenant
info:
  title: Api
  version: '1.0'
  contact:
    name: Aikintech
    url: www.aikintech.com
    email: admin@aikintech.com
  description: Adwaso API documentaion
servers:
  - url: 'http://localhost:10010'
    description: local
paths:
  /client/auth/login:
    post:
      summary: ''
      tags:
        - client
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '422':
          description: Unprocessable Entity (WebDAV)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
      operationId: auth-login
      description: Login user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
    parameters: []
  /client/auth/register:
    post:
      summary: ''
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '422':
          description: Unprocessable Entity (WebDAV)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
      operationId: auth-register
      description: Register user
      tags:
        - client
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
        description: ''
    parameters: []
  /client/auth/verify-phone-number:
    post:
      summary: ''
      tags:
        - client
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerifyPhoneNumberResponse'
      operationId: auth-verify-phone-number
      description: Verify phone number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyPhoneNumberRequest'
    parameters: []
  /client/auth/verify-otp:
    post:
      summary: ''
      tags:
        - client
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '422':
          description: Unprocessable Entity (WebDAV)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
      operationId: auth-verify-otp
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyOtpRequest'
      description: Verify OTP
    parameters: []
  /client/shops/get-by-subdomain:
    get:
      summary: ''
      tags:
        - client
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientShop'
      operationId: client-get-shop-by-subdomain
      description: Client get shop by subdomain
      parameters:
        - schema:
            type: string
          in: query
          name: subdomain
          required: true
  /tenant/categories:
    get:
      summary: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantCategoriesResponse'
      operationId: tenant-get-categories
      tags:
        - tenant
      description: Tenant get categories
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      parameters:
        - schema:
            type: integer
          in: query
          name: page
        - schema:
            type: integer
          in: query
          name: limit
        - schema:
            type: string
          in: query
          name: search
    post:
      summary: ''
      operationId: tenant-create-category
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantCategory'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '422':
          description: Unprocessable Entity (WebDAV)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
      description: Tenant create category
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantStoreCategoryRequest'
  '/tenant/categories/{categoryId}':
    get:
      summary: ''
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantCategory'
        '401':
          description: Unauthorized
        '404':
          description: Not Found
      operationId: tenant-get-category
      tags:
        - tenant
      description: Tenant get categories
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      parameters: []
    patch:
      summary: ''
      operationId: tenant-update-category
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantCategory'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '422':
          description: Unprocessable Entity (WebDAV)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationResponse'
      description: Tenant update category
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantStoreCategoryRequest'
    parameters:
      - schema:
          type: string
        name: categoryId
        in: path
        required: true
    delete:
      summary: ''
      operationId: tenant-delete-category
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '401':
          description: Unauthorized
        '404':
          description: Not Found
      description: Tenant delete category
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
  /tenant/files:
    post:
      summary: ''
      tags:
        - tenant
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileUploadResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
      operationId: tenant-upload-file
      description: Tenant upload file
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FileUploadRequest'
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
    parameters: []
    delete:
      summary: ''
      operationId: tenant-delete-file
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
      description: Tenant delete file
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      parameters:
        - schema:
            type: string
          in: query
          required: true
          name: fileKey
      tags:
        - tenant
  /tenant/products:
    get:
      summary: ''
      tags:
        - tenant
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantProductsResponse'
      operationId: tenant-get-products
      description: Tenant get products
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      parameters:
        - schema:
            type: integer
          in: query
          name: page
        - schema:
            type: integer
          in: query
          name: limit
        - schema:
            type: string
          in: query
          name: search
    post:
      summary: ''
      operationId: tenant-create-product
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Tenant create product
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantStoreProductRequest'
        description: ''
  '/tenant/products/{productId}':
    get:
      summary: ''
      tags:
        - tenant
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantProduct'
      operationId: tenant-get-product
      description: Tenant get product
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      parameters: []
    patch:
      summary: ''
      operationId: tenant-update-product
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Tenant update product
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantStoreProductRequest'
        description: ''
    parameters:
      - schema:
          type: string
        name: productId
        in: path
        required: true
    delete:
      summary: ''
      operationId: tenant-delete-product
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MessageResponse'
      description: Tenanr delete product
      security:
        - X-USER-TOKEN: []
        - X-TENANT-ID: []
      tags:
        - tenant
components:
  schemas:
    RegisterRequest:
      type: object
      x-examples: {}
      properties:
        firstName:
          type: string
        lastName:
          type: string
        password:
          type: string
        phoneNumber:
          type: string
          x-stoplight:
            id: 1hmq03tf2a3n4
        countryCode:
          type: string
          x-stoplight:
            id: roxfrzfxqpvcl
        location:
          type: string
          x-stoplight:
            id: m1gvl1igauxxu
        dateOfBirth:
          type: string
          x-stoplight:
            id: khp36dwpes15a
      required:
        - firstName
        - lastName
        - password
        - phoneNumber
        - countryCode
        - location
        - dateOfBirth
    LoginRequest:
      title: LoginRequest
      x-stoplight:
        id: hked38o5zlizc
      type: object
      properties:
        phoneNumber:
          type: string
          x-stoplight:
            id: w36foii9i2c16
        password:
          type: string
          x-stoplight:
            id: w36foii9i2c16
        countryCode:
          type: string
          x-stoplight:
            id: gmcr2glvi8qlp
      required:
        - phoneNumber
        - password
        - countryCode
    MessageResponse:
      title: MessageResponse
      x-stoplight:
        id: iy1oryam38jhx
      type: object
      properties:
        message:
          type: string
          x-stoplight:
            id: 5hhl7tmezgi2y
    ValidationResponse:
      type: object
      x-examples:
        Example 1:
          errors:
            - field: phoneNumber
              reasons:
                - The phone number field is required.
            - field: countryCode
              reasons:
                - The country code field is required.
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
              reasons:
                type: array
                items:
                  type: string
            required:
              - field
              - reasons
      required:
        - errors
    VerifyPhoneNumberRequest:
      title: VerifyPhoneNumberRequest
      x-stoplight:
        id: 2vgtbe5dqcbr3
      type: object
      properties:
        phoneNumber:
          type: string
          x-stoplight:
            id: v0qtwcy3lat3p
        countryCode:
          type: string
          x-stoplight:
            id: 9c7e86e6mrsdl
        sendOtp:
          type: boolean
          x-stoplight:
            id: c1itc5nu8pyhk
          default: false
      required:
        - phoneNumber
        - countryCode
        - sendOtp
    VerifyOtpRequest:
      title: VerifyOtpRequest
      x-stoplight:
        id: ft8l1uy5ejacg
      type: object
      properties:
        code:
          type: string
          x-stoplight:
            id: bj6uope0e0ibp
        phoneNumber:
          type: string
          x-stoplight:
            id: wq9oy7krkg9mo
        countryCode:
          type: string
          x-stoplight:
            id: 4rhxp5bpefkcg
      required:
        - code
        - phoneNumber
        - countryCode
      description: ''
    VerifyPhoneNumberResponse:
      type: object
      x-examples:
        Example 1:
          message: Phone number verified successfully.
          userId: ''
      properties:
        message:
          type: string
        userId:
          type: string
      required:
        - message
        - userId
    LoginResponse:
      type: object
      x-examples:
        Example 1:
          tokens:
            access: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MDY5Nzg0NDgsImlhdCI6MTcwNjk3NzI0OCwiaXNzIjoiQWR3YXNvIiwic3ViIjoibTk0bjh1VkN4WDFlIiwidG9rZW5UeXBlIjoiYWNjZXNzIn0.n5stiaBiMU5_KV1yT7ht71eRX4YWzRXOBQawOwOabAI
            refresh: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MDcwNjM2NDgsImlhdCI6MTcwNjk3NzI0OCwiaXNzIjoiQWR3YXNvIiwic3ViIjoibTk0bjh1VkN4WDFlIiwidG9rZW5UeXBlIjoicmVmcmVzaCJ9.mxcS68PSOHOYSCnb9YVO320Zay_WF8t5nkkY-7dseUY
          user:
            avatar: 'https://ui-avatars.com/api/?name=John+Doe&background=random&color=fff'
            firstName: John
            lastName: Doe
      properties:
        tokens:
          type: object
          required:
            - access
            - refresh
          properties:
            access:
              type: string
            refresh:
              type: string
        user:
          type: object
          required:
            - avatar
            - firstName
            - lastName
          properties:
            avatar:
              type: string
            firstName:
              type: string
            lastName:
              type: string
      required:
        - tokens
        - user
    TenantCategory:
      type: object
      x-examples: {}
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        published:
          type: boolean
        featured:
          type: boolean
        createdAt:
          type: string
        productsCount:
          type: integer
          x-stoplight:
            id: r6wp30vwu0902
      required:
        - id
        - name
        - description
        - published
        - featured
        - createdAt
        - productsCount
    TenantCategoriesResponse:
      type: object
      x-examples: {}
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/TenantCategory'
        limit:
          type: integer
        page:
          type: integer
        total:
          type: integer
      required:
        - items
        - limit
        - page
        - total
    TenantStoreCategoryRequest:
      type: object
      x-examples: {}
      properties:
        name:
          type: string
        description:
          type: string
        published:
          type: boolean
        featured:
          type: boolean
      required:
        - name
        - description
        - published
        - featured
    ClientShop:
      type: object
      x-examples:
        Example 1:
          id: Ms4fcOy7Y80Skz
          name: Yoo mart
          subdomain: testsubdomain
          description: ''
          status: active
          meta: null
          logo: null
      properties:
        id:
          type: string
        name:
          type: string
        subdomain:
          type: string
        description:
          type: string
        status:
          type: string
        meta:
          nullable: true
        logo:
          nullable: true
      required:
        - id
        - name
        - subdomain
        - description
        - status
        - meta
        - logo
    FileUploadRequest:
      title: FileUploadRequest
      x-stoplight:
        id: 2i2zs08yputam
      type: object
      properties:
        file:
          type: string
          x-stoplight:
            id: cjndpbmo93gik
          format: binary
        uploadType:
          type: string
          x-stoplight:
            id: yn3vxu4ti9r04
          enum:
            - avatar
            - logo
            - product
      required:
        - file
        - uploadType
    FileUploadResponse:
      type: object
      x-examples: {}
      properties:
        fileKey:
          type: string
        fileURL:
          type: string
        fileId:
          type: string
          x-stoplight:
            id: wbasyxcy9vpcw
      required:
        - fileKey
        - fileURL
        - fileId
    TenantStoreProductRequest:
      title: TenantStoreProductRequest
      x-stoplight:
        id: dfc0ebnxnkzfx
      type: object
      properties:
        name:
          type: string
          x-stoplight:
            id: 16l0bcazlkcrm
        description:
          type: string
          x-stoplight:
            id: myb2l7qcan3d0
        published:
          type: boolean
          x-stoplight:
            id: ws7e8io2t131r
        featured:
          type: boolean
          x-stoplight:
            id: fz1l49zcklbge
        quantity:
          type: integer
          x-stoplight:
            id: d6ra46d3tx4ks
        price:
          type: number
          x-stoplight:
            id: 7x07xvontsfk1
        discountType:
          type: string
          x-stoplight:
            id: 0q7yp3dozjyuf
          enum:
            - none
            - percentage
            - fixed_price
        discountValue:
          type: number
          x-stoplight:
            id: 8t64mviuauhmg
        media:
          type: array
          x-stoplight:
            id: gmkdhaonckujr
          items:
            x-stoplight:
              id: dmddxec9ljtes
            type: string
        categories:
          type: array
          x-stoplight:
            id: vkv34e4k1xmvu
          items:
            x-stoplight:
              id: 3r52epii4fvwf
            type: string
      required:
        - name
        - description
        - published
        - featured
        - quantity
        - price
        - discountType
        - discountValue
        - media
        - categories
    TenantProductsResponse:
      type: object
      x-examples: {}
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/TenantProduct'
        limit:
          type: integer
        page:
          type: integer
        total:
          type: integer
      required:
        - items
        - limit
        - page
        - total
    TenantProduct:
      type: object
      x-examples:
        Example 1:
          id: CLJvND9BZrLhqw
          description: Test description for rosa shoe
          published: false
          featured: false
          price: 10000
          quantity: 1
          discountType: none
          discountValue: 0
          tags: null
          variants: null
          createdAt: '2024-02-09T20:30:18.325Z'
          media:
            - fileId: 67JrPYNOsCKYPO
              fileKey: product/QBJJEpzYWXtjy23U8pYG9hPWUdcB2QeFMtssNcPK.jpeg
              fileURL: 'http://localhost:10010/storage/product/QBJJEpzYWXtjy23U8pYG9hPWUdcB2QeFMtssNcPK.jpeg'
            - fileId: yzG2XlzazGVXDo
              fileKey: product/Yt9cdXqowEMRkTEdtVWxf6XxGpjPX3vQixHiXDZh.jpeg
              fileURL: 'http://localhost:10010/storage/product/Yt9cdXqowEMRkTEdtVWxf6XxGpjPX3vQixHiXDZh.jpeg'
          categories: null
      properties:
        id:
          type: string
        name:
          type: string
          x-stoplight:
            id: s3o6uacjzdqj7
        description:
          type: string
        published:
          type: boolean
        featured:
          type: boolean
        price:
          type: integer
        quantity:
          type: integer
        discountType:
          type: string
          enum:
            - none
            - percentage
            - fixed_price
        discountValue:
          type: integer
        tags:
          type: array
          nullable: true
          items: {}
        variants:
          type: array
          nullable: true
          items: {}
        createdAt:
          type: string
        media:
          type: array
          items:
            $ref: '#/components/schemas/FileUploadResponse'
        categories:
          type: array
          nullable: true
          items: {}
      required:
        - id
        - name
        - description
        - published
        - featured
        - price
        - quantity
        - discountType
        - discountValue
        - tags
        - variants
        - createdAt
        - media
        - categories
  securitySchemes:
    X-API-KEY:
      name: API Key
      type: apiKey
      in: header
    X-TENANT-ID:
      name: Tenant ID
      type: apiKey
      in: header
      description: ''
    X-USER-TOKEN:
      name: User token
      type: apiKey
      in: header
